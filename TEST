import re
from datetime import datetime, timedelta

def update_date_in_file(file_path, new_date):
    try:
        # Read the file content
        with open(file_path, 'r') as file:
            content = file.read()

        # Find all dates in the content (assuming the date is in MM/DD/YYYY format)
        date_matches = re.findall(r'\d{2}/\d{2}/\d{4}', content)

        if len(date_matches) >= 2:
            # Convert the new date to a datetime object
            new_date_obj = datetime.strptime(new_date, '%m/%d/%Y')

            # Calculate the second date by adding one day to the new date
            second_date_obj = new_date_obj + timedelta(days=1)
            second_date = second_date_obj.strftime('%m/%d/%Y')

            # Replace the first occurrence of the first date with new_date
            updated_content = content.replace(date_matches[0], new_date, 1)

            # Replace the second occurrence of the second date with the second date (new_date + 1 day)
            updated_content = updated_content.replace(date_matches[1], second_date, 1)

            # Write the updated content back to the file
            with open(file_path, 'w') as file:
                file.write(updated_content)

            print(f"Dates updated: {date_matches[0]} -> {new_date} and {date_matches[1]} -> {second_date} successfully.")
        else:
            print("There are not enough dates found in the file.")

    except Exception as e:
        raise Exception(f"Failed to update date in file: {str(e)}")


# Example usage
file_path = "C:/Github/vv/Input files/maximis.out"
new_date = '11/04/2024'
update_date_in_file(file_path, new_date)
