import paramiko

# SSH connection details
hostname = 'example.com'
username = 'your_username'
password = 'your_password'
target_directory = '/fit/data/in'  # Replace with the directory you want to check

# Function to check if a directory exists recursively
def check_directory_exists(ssh_client, directory):
    try:
        sftp = ssh_client.open_sftp()
        sftp.chdir(directory)
        return True

    except FileNotFoundError:
        return False

    except Exception as e:
        print(f"Error checking directory {directory}: {str(e)}")
        return False

# Create an SSH client instance
ssh_client = paramiko.SSHClient()
ssh_client.set_missing_host_key_policy(paramiko.AutoAddPolicy())

try:
    # Connect to the SSH server using password authentication
    ssh_client.connect(hostname=hostname, username=username, password=password)

    # Check if the target directory exists anywhere
    if check_directory_exists(ssh_client, target_directory):
        print(f"Directory '{target_directory}' exists on the server.")
    else:
        print(f"Directory '{target_directory}' does not exist on the server.")

finally:
    # Close the SSH connection
    ssh_client.close()
