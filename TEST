from playwright.sync_api import sync_playwright

def find_frame_by_text(page, text):
    # Get all frames in the page
    frames = page.frames
    for frame in frames:
        # Check if the frame contains the specified text
        if frame.locator(f'text="{text}"').count() > 0:
            return frame
    return None

with sync_playwright() as p:
    browser = p.chromium.launch()
    page = browser.new_page()
    page.goto('http://example.com')  # Replace with your URL

    # Find the frame containing the text "process"
    target_frame = find_frame_by_text(page, "process")

    if target_frame:
        # Perform actions within the target frame
        target_frame.locator('label:text("Server Name")').select_option("PSUNX")
        target_frame.locator('#PRCSRQSTDLG_WRK_SELECT_FLAG\\$0').uncheck()
        target_frame.locator('#PRCSRQSTDLG_WRK_SELECT_FLAG\\$0').check()
        target_frame.locator('button:has-text("OK")').click()
    else:
        print("Frame with the specified text not found.")

    browser.close()
