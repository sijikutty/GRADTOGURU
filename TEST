# Get all iframes
iframes = page.query_selector_all('iframe')

# Iterate over each iframe and check its title
for iframe in iframes:
    # Switch to the iframe's content
    frame = iframe.content_frame()
    if frame:
        # Retrieve the document's title inside the iframe
        title = frame.evaluate("document.title")
        print(f"Iframe title: {title}")
        
        # Check if the title is "Process Monitor"
        if title == "Process Monitor":
            # Retrieve and print all elements inside this iframe
            all_elements = frame.evaluate('''
                Array.from(document.body.getElementsByTagName('*')).map(el => ({
                    tagName: el.tagName,
                    outerHTML: el.outerHTML
                }))
            ''')
            
            if all_elements:
                print("All elements inside iframe:")
                for element in all_elements:
                    print(f"Tag: {element['tagName']}, HTML: {element['outerHTML']}")
            else:
                print("No elements found inside this iframe.")
    else:
        print("No content frame found for this iframe.")
