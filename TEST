
import re
from datetime import datetime, timedelta
  

def update_date_in_file(file_path, new_date):
    try:
        # Read the file content
        with open(file_path, 'r') as file:
            content = file.read()

        # Find the first date in the content (assuming the date is in MM/DD/YYYY format)
        old_date_match =  re.findall(r'\d{2}/\d{2}/\d{4}(?=\D)', content)
        

        if old_date_match:
            old_date = old_date_match[0] 
            #old_date = old_date_match.group(1)  # Extract the old date
            print(f"Found old date: {old_date}")

            # Replace the old date with the new date
            updated_content = content.replace(old_date, new_date)

            second_date_match = re.search(r'\b(\d{2}/\d{2}/\d{4})\b', updated_content)
            next_day = old_date + timedelta(days=1)
            updated_content = content.replace(second_date_match, next_day, 1)

            # Write the updated content back to the file
            with open(file_path, 'w') as file:
                file.write(updated_content)

            print(f"Date updated from {old_date} to {new_date} successfully.")
        else:
            print("No date found in the file.")
    
    except Exception as e:
        raise Exception(f"Failed to update date in file: {str(e)}")



# Example usage
file_path="C:/Github/vv/Input files/maximis.out"
new_date = '11/04/2024'
update_date_in_file(file_path, new_date)
