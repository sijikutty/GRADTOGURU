import paramiko
import os
from pathlib import Path

# Server credentials
hostname = "kk"
username = "n"
password = "m&9Qp"

# Files to check and upload
files_to_check = [
    ("C:/Github/Input files/Rf.txt", "/appl/ch/Rf.txt"),
    ("C:/Github/Input files/Rf.trg", "/appl/ch/Rf.trg"),
    ("C:/Github/Input files/Rf.log", "/appl/ch/Rf.log")
]

# Directory on the remote server
server_directory = "/appl/ch/"

# Function to check if a file exists on the remote server
def file_exists(sftp, remote_path):
    try:
        sftp.stat(remote_path)
        return True  # File exists
    except FileNotFoundError:
        return False  # File does not exist

# Function to check if a directory exists on the remote server
def directory_exists(sftp, remote_path):
    try:
        sftp.stat(remote_path)
        return True  # Directory exists
    except FileNotFoundError:
        return False  # Directory does not exist

# Function to transfer file to the Unix server
def transfer_file_to_unix(hostname, username, password, local_file_path, remote_file_path):
    """
    Function to transfer a local file to a remote Unix server via SFTP.
    """
    # Check if the local file exists
    if not os.path.exists(local_file_path):
        raise Exception(f"Local file '{local_file_path}' not found.")

    # Initialize SSH client
    ssh_client = paramiko.SSHClient()
    ssh_client.set_missing_host_key_policy(paramiko.AutoAddPolicy())
    
    try:
        # Connect to the remote server
        print(f"Connecting to {hostname}...")
        ssh_client.connect(hostname=hostname, username=username, password=password)
        print(f"Connected to {hostname}.")

        # Open SFTP session over the SSH connection
        sftp = ssh_client.open_sftp()

        # Check if the specified directory exists on the server
        if not directory_exists(s
