from playwright.sync_api import sync_playwright

with sync_playwright() as p:
    browser = p.firefox.launch()
    context = browser.new_context(permissions=['downloads'])  # Enable download permissions
    page = context.new_page()

    # Navigate to a page where you want to download a file
    page.goto('https://example.com')

    # Your automation code here...

    browser.close()
