import boto3
import json

session = boto3.Session(profile_name="dev")
secretmanagerclient = session.client("secretsmanager", region_name="us-east-1")

# Assume testdata["db_secret"] is a list of secret IDs
secret_ids = testdata["db_secret"]  # This should be a list of secret IDs

for secret_id in secret_ids:
    try:
        response = secretmanagerclient.get_secret_value(SecretId=secret_id)
        secret = json.loads(response['SecretString'])
        print(f"Username for {secret_id}: {secret['username']}")
    except Exception as e:
        print(f"Error retrieving secret {secret_id}: {e}")
