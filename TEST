import paramiko

# SSH connection details
hostname = 'example.com'
username = 'your_username'
password = 'your_password'  # Replace with your actual password
search_path = '/path/to/search'  # Replace with the path to search, e.g., '/home/user'

# Function to search for the directory
def search_directory(ssh_client, search_path, target_directory):
    # Create an interactive shell session
    ssh_shell = ssh_client.invoke_shell()

    # Send commands to change directory and list contents
    ssh_shell.send(f'cd {search_path}\n')
    ssh_shell.send('ls -l\n')  # List all files and directories

    # Wait for the command to execute
    while not ssh_shell.recv_ready():
        pass

    # Read and print the output of the command
    output = ssh_shell.recv(65535).decode()

    # Check if the target directory exists in the output
    if target_directory in output:
        print(f"Directory '{target_directory}' found in '{search_path}'.")
    else:
        print(f"Directory '{target_directory}' not found in '{search_path}'.")

# Create an SSH client instance
ssh_client = paramiko.SSHClient()
ssh_client.set_missing_host_key_policy(paramiko.AutoAddPolicy())

try:
    # Connect to the SSH server using password authentication
    ssh_client.connect(hostname=hostname, username=username, password=password)

    # Call the function to search for the directory
    search_directory(ssh_client, search_path, 'fit/data/in')

finally:
    # Close the SSH connection
    ssh_client.close()
